const app=Vue.createApp({data(){return{showpage:false,menushow:false,cardtop:100,barlocal:0,composition:false}},created(){window.addEventListener("load",(()=>{this.showpage=true;document.getElementById("loading").style.opacity=0;document.getElementById("loading").style.visibility="hidden"}))},mounted(){if(document.getElementById("home-head"))document.getElementById("menu").className+=" menu-color";if(document.getElementById("crypto")){let e=document.getElementById("crypto");e.addEventListener("input",(()=>{if(!this.composition)this.handlecrypto()}));e.addEventListener("compositionstart",(()=>{this.composition=true}));e.addEventListener("compositionend",(()=>{this.handlecrypto();this.composition=false}))}if(document.getElementById("search-bar")){let e=document.getElementById("search-bar");e.addEventListener("input",(()=>{if(!this.composition)this.handlesearch()}));e.addEventListener("compositionstart",(()=>{this.composition=true}));e.addEventListener("compositionend",(()=>{this.handlesearch();this.composition=false}))}window.addEventListener("scroll",this.handlescroll,true);this.render()},methods:{homeclick(){window.scrollTo({top:window.innerHeight,behavior:"smooth"})},render(){function e(e){return new Promise((t=>setTimeout(t,e)))}let t=false;function n(){hljs.configure({ignoreUnescapedHTML:true});let n=document.getElementsByTagName("pre");for(let i of n){let n=[...i.classList,...i.firstChild.classList][0]||"plaintext";i.innerHTML=`<div class="code-content">${i.innerHTML}</div><div class="language">${n}</div><div class="copycode"><i class="fa-solid fa-copy fa-fw"></i><i class="fa-solid fa-clone fa-fw"></i></div>`;let s=i.getElementsByClassName("copycode")[0];s.addEventListener("click",(async function(){if(t)return;t=true;this.classList.add("copied");await navigator.clipboard.writeText(this.parentElement.firstChild.innerText);await e(1e3);this.classList.remove("copied");t=false}));hljs.highlightElement(i.getElementsByClassName("code-content")[0])}}function i(){let e=document.getElementById("showimg"),t=document.getElementById("showimg-content"),n=document.querySelectorAll(".article .content img");function i(n){t.alt=n.alt;t.src=n.src;e.style.opacity=1;e.style.visibility="visible"}function s(){e.style.opacity=0;e.style.visibility="hidden"}for(let e of n)e.addEventListener("click",(function(){i(this)}));e.addEventListener("click",s);window.addEventListener("resize",s)}function s(){if(typeof renderMathInElement!=="undefined")renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:true},{left:"$",right:"$",display:false},{left:"\\(",right:"\\)",display:false},{left:"\\[",right:"\\]",display:true}]})}function o(e){return CryptoJS.SHA256(e).toString()}function l(e,t,n){try{let i=CryptoJS.AES.decrypt(e,t).toString(CryptoJS.enc.Utf8);return{decrypt:i,check:o(i)===n}}catch{return{check:false}}}n();i();s()},handlescroll(){let e=document.documentElement.scrollTop;let t=document.getElementById("menu");let n=document.getElementById("home-posts-wrap");if(this.barlocal<e){t.className="hidden-menu";this.menushow=false}else t.className="show-menu";if(n){if(e<=window.innerHeight-100)t.className+=" menu-color";if(e<=400)n.style.marginTop=e/-5+"px";else n.style.marginTop="-80px"}this.barlocal=e},handlecrypto(){let e=document.getElementById("crypto"),t=document.getElementsByClassName("content")[0];let n=decrypt(e.dataset.encrypt,e.value,e.dataset.shasum);if(n.check){e.disabled=true;e.classList.remove("fail");e.classList.add("success");t.innerHTML=n.decrypt;t.style.opacity=1;this.render()}else e.classList.add("fail")},handlesearch(){let e=document.getElementById("search-bar"),t=document.getElementsByClassName("timeline"),n=e.value.toLowerCase().replace(/s+/gm,"");for(let e of t)if(!n||e.dataset.title.includes(n)){e.style.opacity=1;e.style.pointerEvents="";e.style.marginTop=""}else{e.style.opacity=0;e.style.pointerEvents="none";e.style.marginTop=-e.offsetHeight-30+"px"}}}});app.mount("#layout");