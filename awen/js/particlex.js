const app=Vue.createApp({data(){return{showpage:false,menushow:false,cardtop:100,barlocal:0,composition:false}},created(){window.addEventListener("load",(()=>{this.showpage=true;document.getElementById("loading").style.opacity=0;document.getElementById("loading").style.visibility="hidden"}))},mounted(){if(document.getElementById("home-head"))document.getElementById("menu").className+=" menu-color";if(document.getElementById("crypto")){let e=document.getElementById("crypto");e.addEventListener("input",(()=>{if(!this.composition)this.handlecrypto()}));e.addEventListener("compositionstart",(()=>{this.composition=true}));e.addEventListener("compositionend",(()=>{this.handlecrypto();this.composition=false}))}if(document.getElementById("search-bar")){let e=document.getElementById("search-bar");e.addEventListener("input",(()=>{if(!this.composition)this.handlesearch()}));e.addEventListener("compositionstart",(()=>{this.composition=true}));e.addEventListener("compositionend",(()=>{this.handlesearch();this.composition=false}))}window.addEventListener("scroll",this.handlescroll,true);this.render()},methods:{homeclick(){window.scrollTo({top:window.innerHeight,behavior:"smooth"})},render(){highlight();showimg();rendermath()},handlescroll(){let e=document.documentElement.scrollTop;let t=document.getElementById("menu");let s=document.getElementById("home-posts-wrap");if(this.barlocal<e){t.className="hidden-menu";this.menushow=false}else t.className="show-menu";if(s){if(e<=window.innerHeight-100)t.className+=" menu-color";if(e<=400)s.style.marginTop=e/-5+"px";else s.style.marginTop="-80px"}this.barlocal=e},handlecrypto(){let e=document.getElementById("crypto"),t=document.getElementsByClassName("content")[0];let s=decrypt(e.dataset.encrypt,e.value,e.dataset.shasum);if(s.check){e.disabled=true;e.classList.remove("fail");e.classList.add("success");t.innerHTML=s.decrypt;t.style.opacity=1;this.render()}else e.classList.add("fail")},handlesearch(){let e=document.getElementById("search-bar"),t=document.getElementsByClassName("timeline"),s=e.value.toLowerCase().replace(/s+/gm,"");for(let e of t)if(!s||e.dataset.title.includes(s)){e.style.opacity=1;e.style.pointerEvents="";e.style.marginTop=""}else{e.style.opacity=0;e.style.pointerEvents="none";e.style.marginTop=-e.offsetHeight-30+"px"}}}});app.mount("#layout");