window.onload=async()=>{const e=document.querySelector("#layout #main .article .info .date");e.addEventListener("click",(()=>{window.location.href="/awen/darling"}));e.id="shangshangEggHunt";const{baseURL:t,imgType:n,miniURL:c,personURL:i,data:o,coverIMG:l}=window.albumConfig;const{defaultLoadingImg:s}=window.sysConfig;const a=["#7bd0c1","#7ecaf6","#f2849e","#8499e7","#ae85ca"];const d=3;const m=4;const r=window.innerWidth>580?false:true;const u=document.getElementById("album-back-box");const y=document.getElementById("album-all-text");const p=document.getElementById("album-current-text");const E=document.getElementById("awen-album-cover-box");const g=document.getElementById("domestic-box");const f=document.getElementById("awen-album-detail-box");const b=document.getElementById("album-we-box");const w=document.getElementById("album-picture-box");const v=document.getElementById("close-album-tree");o.forEach((e=>{const i=document.createElement("div");const o=document.createElement("span");o.innerText=e.title;o.className="type-title";o.id="Awen-"+e.title;const s=document.createElement("div");s.className="city-list";e.cityList.forEach((e=>{const i=document.createElement("div");i.className="city-item";const o=document.createElement("img");o.loading="lazy";o.className="city-img";o.src=`${t}/${e.city}/${c}/${l}.${n}`;i.append(o);const d=document.createElement("div");d.className="city-mask";d.style.backgroundColor=a[Math.floor(Math.random()*5)];i.append(d);const m=document.createElement("div");m.className="city-name";m.innerText=e.city;i.append(m);i.addEventListener("click",(function(){p.innerText="/ "+e.city;L(e.city);h(true)}));s.append(i)}));i.append(o);i.append(s);g.append(i)}));function L(e){const l=[];o.forEach((e=>{l.push(...e.cityList)}));const{city:a,personNum:d,pictureNum:u}=l.find((t=>t.city===e));if(d){for(let e=1;e<=d;e++){const o=document.createElement("div");o.className="detail-item";const l=document.createElement("img");l.loading="lazy";l.className="load-img";l.src=s;const d=document.createElement("img");d.loading="lazy";d.className="detail-img";d.src=`${t}/${a}/${c}/${i}${e}.${n}`;o.append(l);o.append(d);b.append(o)}if(!r){const e=m-d%m;for(let t=0;t<e;t++){const e=document.createElement("div");e.className="detail-item";b.append(e)}}b.style.display="flex"}else{b.style.display="none"}if(u){for(let e=1;e<=u;e++){const i=document.createElement("div");i.className="detail-item";const o=document.createElement("img");o.loading="lazy";o.className="load-img";o.src=s;const l=document.createElement("img");l.loading="lazy";l.className="detail-img";l.src=`${t}/${a}/${c}/${e}.${n}`;i.append(o);i.append(l);w.append(i)}if(!r){const e=m-u%m;for(let t=0;t<e;t++){const e=document.createElement("div");e.className="detail-item";w.append(e)}}w.style.display="flex"}else{w.style.display="none"}$()}function h(e,t=true){if(t){window.scrollTo({top:0,behavior:"smooth"})}if(e){f.style.display="block";u.style.display="block";E.style.display="none"}else{E.style.display="block";f.style.display="none";u.style.display="none"}}function $(){let e=document.getElementById("showimg"),t=document.getElementById("showimg-content"),n=document.querySelectorAll(".article .content img");function i(n){t.src="";t.alt=n.alt;const i=new RegExp(`/${c}`);t.src=n.src.replace(i,"");e.style.opacity=1;e.style.visibility="visible"}function o(){e.style.opacity=0;e.style.visibility="hidden"}for(let e of n)e.addEventListener("click",(function(){i(this)}));e.addEventListener("click",o);window.addEventListener("resize",o)}function I(e){const t=document.getElementById("Awen-"+e);const n=window.pageYOffset||document.documentElement.scrollTop;window.scrollTo({top:t.getBoundingClientRect().top+n,behavior:"smooth"});return;document.getElementById("Awen-"+e).scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}if(r){const e=document.getElementById("awen-album-tree");e.style.display="none"}else{const e=document.querySelector("#awen-album-tree .tree-list");o.forEach((t=>{const n=document.createElement("div");n.className="list-item";n.innerHTML=`-&nbsp;<span class='list-item-name'>${t.title}${t.country?"("+t.country+")":""}</span>`;e.append(n);n.addEventListener("click",(function(){b.innerHTML="";w.innerHTML="";h(false,false);setTimeout((()=>{I(t.title)}),100)}));t.cityList.forEach((t=>{const n=document.createElement("div");n.className="list-city-item";n.innerHTML=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class='list-city-item-name'>\n          ${t.city}</span>`;e.append(n);n.addEventListener("click",(function(){b.innerHTML="";w.innerHTML="";p.innerText="/ "+t.city;L(t.city);h(true)}))}))}))}y.addEventListener("click",(function(){b.innerHTML="";w.innerHTML="";h(false)}));v.addEventListener("click",(function(){const e=document.getElementById("awen-album-tree");e.style.display="none"}))};