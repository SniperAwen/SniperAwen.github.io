window.onload=async()=>{const e=document.querySelector("#layout #main .article .info .date");e.addEventListener("click",(()=>{window.location.href="/awen/darling"}));e.id="shangshangEggHunt";const{baseURL:t,imgType:n,miniURL:c,personURL:o,data:i}=window.albumConfig;const{loadImgURL:l}=window.sysConfig;const a=["#7bd0c1","#7ecaf6","#f2849e","#8499e7","#ae85ca"];const s=3;const d=4;const m=window.innerWidth>580?false:true;const r=document.getElementById("album-back-box");const y=document.getElementById("album-all-text");const u=document.getElementById("album-current-text");const p=document.getElementById("awen-album-cover-box");const g=document.getElementById("domestic-box");const f=document.getElementById("awen-album-detail-box");const E=document.getElementById("album-we-box");const b=document.getElementById("album-picture-box");i.forEach((e=>{const o=document.createElement("div");o.className="city-item";const i=document.createElement("img");i.className="city-img";i.src=`${t}/${e.city}/${c}/${e.coverIMG}.${n}`;o.append(i);const l=document.createElement("div");l.className="city-mask";l.style.backgroundColor=a[Math.floor(Math.random()*5)];o.append(l);const s=document.createElement("div");s.className="city-name";s.innerText=e.city;o.append(s);o.addEventListener("click",(function(){u.innerText="/ "+e.city;w(e.city);v(true)}));g.append(o)}));function w(e){const{city:a,personNum:s,pictureNum:r}=i.find((t=>t.city===e));console.log(a);if(s){for(let e=1;e<=s;e++){const i=document.createElement("div");i.className="detail-item";const s=document.createElement("img");s.className="load-img";s.src=l;const d=document.createElement("img");d.className="detail-img";d.src=`${t}/${a}/${c}/${o}${e}.${n}`;i.append(s);i.append(d);E.append(i)}if(!m){const e=d-s%d;for(let t=0;t<e;t++){const e=document.createElement("div");e.className="detail-item";E.append(e)}}E.style.display="flex"}else{E.style.display="none"}if(r){for(let e=1;e<=r;e++){const o=document.createElement("div");o.className="detail-item";const i=document.createElement("img");i.className="load-img";i.src=l;const s=document.createElement("img");s.className="detail-img";s.src=`${t}/${a}/${c}/${e}.${n}`;o.append(i);o.append(s);b.append(o)}if(!m){const e=d-r%d;for(let t=0;t<e;t++){const e=document.createElement("div");e.className="detail-item";b.append(e)}}b.style.display="flex"}else{b.style.display="none"}$()}function v(e){window.scrollTo({top:0,behavior:"smooth"});if(e){f.style.display="block";r.style.display="block";p.style.display="none"}else{p.style.display="block";f.style.display="none";r.style.display="none"}}function $(){let e=document.getElementById("showimg"),t=document.getElementById("showimg-content"),n=document.querySelectorAll(".article .content img");function o(n){t.src="";t.alt=n.alt;const o=new RegExp(`/${c}`);t.src=n.src.replace(o,"");e.style.opacity=1;e.style.visibility="visible"}function i(){e.style.opacity=0;e.style.visibility="hidden"}for(let e of n)e.addEventListener("click",(function(){o(this)}));e.addEventListener("click",i);window.addEventListener("resize",i)}if(!m){const e=s-i%s;for(let t=0;t<e;t++){const e=document.createElement("div");e.className="city-item";g.append(e)}}y.addEventListener("click",(function(){E.innerHTML="";b.innerHTML="";v(false)}))};